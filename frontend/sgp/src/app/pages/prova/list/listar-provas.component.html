<p-confirmDialog [style]="{ width: '50vw' }"></p-confirmDialog>
<app-loading></app-loading>
<app-alert></app-alert>
<button
  id="button-new"
  label="Novo"
  (click)="cadastrarProva()"
  pButton
></button>
<div class="p-grid" id="tabela">
  <div class="p-col-11">
    <p-table
      [(selection)]="provasSelecionadas"
      [columns]="definicaoColunas"
      [value]="provas"
      paginator="true"
      rows="20"
      selectionMode="multiple"
    >
      <ng-template let-colunas pTemplate="header">
        <tr>
          <th *ngFor="let coluna of colunas">
            {{ coluna.header }}
          </th>
        </tr>
      </ng-template>
      <ng-template let-colunas="columns" let-prova pTemplate="body">
        <tr [pSelectableRow]="prova">
          <td *ngFor="let coluna of colunas">
            {{ prova[coluna.field] }}
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  <div class="p-col-1" id="botoes">
    <button
      [disabled]="!isAtLeastOneSelected()"
      class="ui-button-rounded"
      icon="pi pi-trash"
      id="button-delete"
      (click)="excluirProva()"
      pButton
    ></button>
    <button
      [disabled]="!isOneSelected()"
      class="ui-button-rounded"
      icon="pi pi-pencil"
      id="button-edit"
      (click)="editarProva()"
      pButton
    ></button>
    <button
      [disabled]="!isOneSelected()"
      class="ui-button-rounded"
      icon="pi pi-eye"
      id="button-visualize"
      (click)="visualizarProva()"
      pButton
    ></button>
  </div>
</div>

<app-cadastrar-prova
  #dialogProvaForm
  (retornarProva)="atualizarListagem()"
></app-cadastrar-prova>
